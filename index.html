<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADHD è¯æ±‡æŠ½è®¤å¡</title>
    <style>
        :root { --primary: #4a90e2; --success: #2ecc71; --bg: #f0f2f5; }
        body { font-family: sans-serif; background: var(--bg); display: flex; flex-direction: column; align-items: center; padding: 15px; }
        
        /* å¡ç‰‡å®¹å™¨ */
        .card-container { perspective: 1000px; width: 90%; max-width: 400px; margin-top: 20px; }
        .card { background: white; border-radius: 25px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; min-height: 400px; display: flex; flex-direction: column; justify-content: space-between; position: relative; }
        
        .hint-area { font-size: 80px; margin-bottom: 10px; }
        .chinese-hint { font-size: 32px; color: #333; font-weight: bold; margin: 20px 0; }
        
        .quiz-word { font-size: 36px; letter-spacing: 4px; margin: 15px 0; color: var(--primary); font-weight: bold; visibility: hidden; }
        .quiz-word.show { visibility: visible; }

        input { font-size: 24px; padding: 12px; width: 85%; border: 3px solid #ddd; border-radius: 12px; text-align: center; margin-top: 10px; display: none; }
        input.show { display: block; }
        input.correct { border-color: var(--success); background-color: #f0fff4; }

        .btn { padding: 15px; border: none; border-radius: 12px; cursor: pointer; font-size: 18px; font-weight: bold; margin: 5px; color: white; transition: 0.2s; }
        .btn-audio { background: #9b59b6; width: 45%; }
        .btn-flip { background: var(--primary); width: 100%; margin-top: 15px; }
        .btn-next { background: var(--success); width: 100%; margin-top: 15px; display: none; }
        
        button:disabled { background: #ccc !important; cursor: not-allowed; }
        #timer-msg { color: #e67e22; font-weight: bold; height: 24px; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="timer-msg">æ­£åœ¨å‡†å¤‡å¡ç‰‡...</div>

    <div class="card-container">
        <div class="card">
            <div id="front-side">
                <div class="hint-area" id="icon-display"></div>
                <div class="chinese-hint" id="cn-display"></div>
                <button class="btn btn-flip" id="flip-btn" onclick="showBack()">ğŸ”„ æŸ¥çœ‹èƒŒé¢çš„å•è¯</button>
            </div>

            <div id="back-side">
                <div class="quiz-word" id="word-hint"></div>
                <input type="text" id="wordInput" placeholder="æ‹¼å†™è¿™ä¸ªå•è¯..." oninput="checkInput(event)">
                
                <div id="audio-controls" style="margin-top:20px; display:none; justify-content: center;">
                    <button class="btn btn-audio" onclick="speak('en-GB')">è‹±éŸ³ ğŸ‡¬ğŸ‡§</button>
                    <button class="btn btn-audio" onclick="speak('en-US')">ç¾éŸ³ ğŸ‡ºğŸ‡¸</button>
                </div>
            </div>

            <button id="next-btn" class="btn btn-next" onclick="nextCard()">ğŸŒŸ å¤ªæ£’äº†ï¼ä¸‹ä¸€å¼ </button>
        </div>
    </div>

    <script>
        // æ‰©å……åçš„è¯åº“
                const wordLib = [
            // --- é¢œè‰² (Colors) ---
            { en: "Red", cn: "çº¢è‰²", icon: "â¤ï¸" },
            { en: "Blue", cn: "è“è‰²", icon: "ğŸ’™" },
            { en: "Yellow", cn: "é»„è‰²", icon: "ğŸ’›" },
            { en: "Green", cn: "ç»¿è‰²", icon: "ğŸ’š" },
            { en: "Orange", cn: "æ©™è‰²", icon: "ğŸ§¡" },
            { en: "Purple", cn: "ç´«è‰²", icon: "ğŸ’œ" },
            { en: "Pink", cn: "ç²‰çº¢è‰²", icon: "ğŸ’—" },
            { en: "Black", cn: "é»‘è‰²", icon: "ğŸ–¤" },
            { en: "White", cn: "ç™½è‰²", icon: "ğŸ¤" },
            { en: "Brown", cn: "æ£•è‰²/è¤è‰²", icon: "ğŸ¤" },

            // --- äº²å±å…³ç³»è¡¥å…¨ (Extended Family) ---
            { en: "Nephew", cn: "ä¾„å­/å¤–ç”¥", icon: "ğŸ‘¦" },
            { en: "Niece", cn: "ä¾„å¥³/å¤–ç”¥å¥³", icon: "ğŸ‘§" },
            { en: "Husband", cn: "ä¸ˆå¤«", icon: "ğŸ¤µ" },
            { en: "Wife", cn: "å¦»å­", icon: "ğŸ‘°" },
            { en: "Parent", cn: "å®¶é•¿/çˆ¶æ¯", icon: "ğŸ‘ª" },
            
            // --- ä¹‹å‰çš„åŠ¨æ¤ç‰©å’Œæ•°å­—ä¿æŒä¸å˜å³å¯ ---
            { en: "Cat", cn: "å°çŒ«", icon: "ğŸ±" },
            { en: "Dog", cn: "å°ç‹—", icon: "ğŸ¶" },
            { en: "One", cn: "1", icon: "1ï¸âƒ£" }
            // ... åé¢çš„å¯ä»¥ä»¥æ­¤ç±»æ¨
        ];


        let index = 0;

        function lock() {
            const flipBtn = document.getElementById('flip-btn');
            flipBtn.disabled = true;
            let c = 3;
            const m = document.getElementById('timer-msg');
            const timer = setInterval(() => {
                c--;
                if(c > 0) m.innerText = `â³ è§‚å¯Ÿæ­£é¢æç¤º (${c}s)`;
                else {
                    m.innerText = "âœ… å¯ä»¥ç¿»é¢äº†";
                    flipBtn.disabled = false;
                    clearInterval(timer);
                }
            }, 1000);
        }

        function showBack() {
            document.getElementById('flip-btn').style.display = 'none';
            document.getElementById('word-hint').classList.add('show');
            document.getElementById('wordInput').classList.add('show');
            document.getElementById('audio-controls').style.display = 'flex';
            document.getElementById('wordInput').focus();
        }

        function checkInput(e) {
            const val = e.target.value.toLowerCase().trim();
            const target = wordLib[index].en.toLowerCase();
            const nextBtn = document.getElementById('next-btn');

            if (val === target) {
                e.target.classList.add('correct');
                nextBtn.style.display = 'block';
                speak('en-GB'); 
            } else {
                e.target.classList.remove('correct');
                nextBtn.style.display = 'none';
            }
        }

        function speak(lang) {
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(wordLib[index].en);
            u.lang = lang;
            u.rate = 0.8;
            window.speechSynthesis.speak(u);
        }

        function render() {
            const item = wordLib[index];
            // åˆ·æ–°æ­£é¢
            document.getElementById('icon-display').innerText = item.icon;
            document.getElementById('cn-display').innerText = item.cn;
            
            // åˆ·æ–°èƒŒé¢ï¼ˆåˆå§‹éšè—ï¼‰
            const hint = item.en[0] + " _ ".repeat(item.en.length - 2) + item.en.slice(-1);
            document.getElementById('word-hint').innerText = hint;
            document.getElementById('word-hint').classList.remove('show');
            
            const input = document.getElementById('wordInput');
            input.value = "";
            input.classList.remove('show', 'correct');
            
            document.getElementById('flip-btn').style.display = 'block';
            document.getElementById('audio-controls').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            
            lock();
        }

        function nextCard() {
            index = (index + 1) % wordLib.length;
            render();
        }

        window.onload = render;
    </script>
</body>
</html>

